<div [ngClass]="fullWidth ? 'w-95' : 'w-80 lg:w-[28rem]'"
    class="rounded border-gray-200 border overflow-visible bg-white p-4 m-3 flex flex-col justify-between text-gray-800">


    <!-- Header row: name and rating -->
    <div class="flex justify-between items-center mb-1">
        <h2 class="text-2xl font-semibold leading-tight">{{ game.name }}</h2>
        <div class="flex items-center gap-1 text-yellow-500">
            <ng-container *ngFor="let icon of getStarsForRating()">
                <span class="material-icons text-xl">{{ icon }}</span>
            </ng-container>
        </div>

    </div>

    <!-- Description -->
    <p class="text-sm mb-2 leading-snug">{{ game.description }}</p>

    <!-- Stats rows -->
    <div class="text-sm space-y-1.5">

        <div class="flex justify-between">
            <div class="flex items-center gap-1">
                <span class="material-icons text-base">group</span>
                {{ game.numberOfPlayers }}
            </div>
            <div class="flex items-center gap-1">
                <span class="material-icons text-base">schedule</span>
                {{ game.playtime }}
            </div>
        </div>

        <div class="flex justify-between">
            <div class="flex items-center gap-1">
                <span class="material-icons text-base">calendar_today</span>
                {{ game.recommendedAge }}
            </div>
            <div class="flex items-center gap-1 relative group cursor-default">
                <span class="material-icons text-base">bar_chart</span>
                {{ game.difficulty }}
                <span class="material-icons text-gray-500 text-xs ml-1">info</span>

                <!-- Tooltip -->
                <div
                    class="absolute bottom-full mb-1 left-1/2 transform -translate-x-1/2 w-48 bg-gray-800 text-white text-xs rounded py-1 px-2 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10">
                    {{ difficultyTooltips[game.difficulty] }}
                </div>
            </div>
        </div>

        <div class="flex items-center gap-1">
            <span class="material-icons text-base">weekend</span>
            {{ game.category }}
        </div>
    </div>


    <!-- Button -->
    <a href="{{ game.website }}" target="_blank" rel="noopener noreferrer"
        style="display:inline-block; width:120px; height:36px;" class="py-1.5">
        <svg xmlns="http://www.w3.org/2000/svg" width="120" height="36" role="img" aria-label="Learn More"
            style="cursor:pointer;">
            <rect x="0.5" y="0.5" width="119" height="33" fill="#ffffff" stroke="#F59E0B" stroke-width="1" rx="8"
                ry="8" />
            <text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" font-size="14" fill="#374151"
                style="user-select:none;">
                Learn More
            </text>
        </svg>
    </a>

    <!-- Tailwind styled button -->
    <!-- Had issues with properly translating this exact design into PDF -->
    <!-- <a href="{{ game.website }}" target="_blank" rel="noopener noreferrer"
        class="mt-3 inline-block border border-yellow-500 bg-white hover:bg-yellow-100 text-gray-800 py-1.5 px-3 rounded-lg text-sm"
        style="display: inline-block; width: 120px; text-align: center; box-sizing: border-box;">
        Learn More
    </a>
    -->
</div>